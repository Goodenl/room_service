(function(e){function t(t){for(var o,a,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)a=i[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,l||[]),c()}function c(){for(var e,t=0;t<n.length;t++){for(var c=n[t],o=!0,i=1;i<c.length;i++){var s=c[i];0!==r[s]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=c[0]))}return e}var o={},r={app:0},n=[];function a(t){if(o[t])return o[t].exports;var c=o[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=o,a.d=function(e,t,c){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(c,o,function(t){return e[t]}.bind(null,o));return c},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/room_service/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;n.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"0043":function(e,t,c){e.exports=c.p+"img/prom.e6a04562.svg"},"07ae":function(e,t,c){"use strict";c("a6e2")},"168d":function(e,t,c){e.exports=c.p+"img/footer-icon.7099f18a.svg"},"1a2b":function(e,t,c){e.exports=c.p+"img/popup-img.775424b7.jpg"},"1b7f":function(e,t,c){"use strict";c("e9d3")},"1ee0":function(e,t,c){},"201f":function(e,t,c){"use strict";c("932f")},2619:function(e,t,c){"use strict";c("4c43")},"33bf":function(e,t,c){},"3d1f":function(e,t,c){"use strict";c("f199")},"3e62":function(e,t,c){"use strict";c("1ee0")},"43dd":function(e,t,c){e.exports=c.p+"img/cart-emp.bfe999ae.svg"},"4c43":function(e,t,c){},"50f2":function(e,t,c){e.exports=c.p+"img/card-item.f078af22.jpg"},"56d7":function(e,t,c){"use strict";c.r(t);c("e260"),c("e6cf"),c("cca6"),c("a79d");var o=c("7a23");function r(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("router-view");return Object(o["openBlock"])(),Object(o["createBlock"])(i)}var n={created:function(){},head:{meta:[{name:"viewport",content:"user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi"}]}};c("2619");n.render=r;var a=n,i=c("ade3"),s=c("6c02"),l={class:"header"},u={class:"header__wrap"},d=Object(o["createVNode"])("svg",{width:"14",height:"22",viewBox:"0 0 14 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createVNode"])("path",{d:"M11.1486 0L14 3.0394L5.93872 11.0055L14 18.9606L11.1486 22L1.54365 12.5197L0 11.0055L1.54365 9.48032L11.1486 0Z",fill:"#2B2C7E"})],-1),p=Object(o["createVNode"])("h2",{class:"header__title"},"ПОЛИТИКа КОНФИДЕНЦИАЛЬНОСТИ",-1),b={class:"container"},m=Object(o["createStaticVNode"])('<div class="user-agreement"><h2>Политика в отношении обработки персональных данных</h2><h3>1. Общие положения</h3><p>Настоящая политика обработки персональных данных составлена в соответствии с требованиями Федерального закона от 27.07.2006. №152-ФЗ «О персональных данных» (далее - Закон о персональных данных) и определяет порядок обработки персональных данных и меры по обеспечению безопасности персональных данных, предпринимаемые Михайловым Иваном Сергеевичем (далее – Оператор).</p><p>1.1. Оператор ставит своей важнейшей целью и условием осуществления своей деятельности соблюдение прав и свобод человека и гражданина при обработке его персональных данных, в том числе защиты прав на неприкосновенность частной жизни, личную и семейную тайну.</p><p>1.2. Настоящая политика Оператора в отношении обработки персональных данных (далее – Политика) применяется ко всей информации, которую Оператор может получить о посетителях веб-сайта httpsː//thismywebsite·com.</p><h3>2. Основные понятия, используемые в Политике</h3><p>2.1. Автоматизированная обработка персональных данных – обработка персональных данных с помощью средств вычислительной техники.</p><p>2.2. Блокирование персональных данных – временное прекращение обработки персональных данных (за исключением случаев, если обработка необходима для уточнения персональных данных).</p><p>2.3. Веб-сайт – совокупность графических и информационных материалов, а также программ для ЭВМ и баз данных, обеспечивающих их доступность в сети интернет по сетевому адресу httpsː//thismywebsite·com.</p><p>2.4. Информационная система персональных данных — совокупность содержащихся в базах данных персональных данных, и обеспечивающих их обработку информационных технологий и технических средств.</p><p>2.5. Обезличивание персональных данных — действия, в результате которых невозможно определить без использования дополнительной</p></div>',1);function j(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("lang-switcher");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("header",l,[Object(o["createVNode"])("div",u,[Object(o["createVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.$router.go(-1)}),class:"btn btn--white btn--square"},[d]),p,Object(o["createVNode"])(i)])]),Object(o["createVNode"])("div",b,[m,Object(o["createVNode"])("button",{class:"btn user-agreement__btn",onClick:t[2]||(t[2]=function(t){return e.$router.go(-1)})},"вернуться обратно")])],64)}var O=c("5b1c"),h=c.n(O),f=c("c26e"),v=c.n(f),g=Object(o["createVNode"])("svg",{width:"13",height:"8",viewBox:"0 0 13 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:"flang__caret"},[Object(o["createVNode"])("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.20703 5.29289L10.6684 0.767767C11.0204 0.410744 11.591 0.410744 11.943 0.767767C12.295 1.12479 12.295 1.70364 11.943 2.06066L6.84437 7.23223C6.66837 7.41074 6.4377 7.5 6.20703 7.5C5.97636 7.5 5.74569 7.41074 5.5697 7.23223L0.471024 2.06066C0.119034 1.70364 0.119034 1.12479 0.471024 0.767767C0.823013 0.410744 1.3937 0.410744 1.74569 0.767767L6.20703 5.29289Z",fill:"#ACACCA"})],-1),y={key:0,name:"lang",class:"lang__list"},k=Object(o["createVNode"])("img",{src:h.a,alt:"ru"},null,-1),V=Object(o["createTextVNode"])("ru "),N=Object(o["createVNode"])("img",{src:v.a,alt:"ru"},null,-1),_=Object(o["createTextVNode"])("ru "),w=Object(o["createVNode"])("img",{src:v.a,alt:"ru"},null,-1),C=Object(o["createTextVNode"])("ru ");function B(e,t,c,r,n,a){return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("div",{onClick:t[1]||(t[1]=function(e){return n.langShow=!n.langShow}),class:"lang"},[Object(o["createVNode"])("img",{src:n.currentLangSrc?n.currentLangSrc:"/room_service/img/flag.6195dc1a.svg",alt:"ru",class:"lang__icon"},null,8,["src"]),g]),n.langShow?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",y,[Object(o["createVNode"])("li",{class:"lang__item",onClick:t[2]||(t[2]=function(){return a.selLang&&a.selLang.apply(a,arguments)})},[k,V]),Object(o["createVNode"])("li",{class:"lang__item",onClick:t[3]||(t[3]=function(){return a.selLang&&a.selLang.apply(a,arguments)})},[N,_]),Object(o["createVNode"])("li",{class:"lang__item",onClick:t[4]||(t[4]=function(){return a.selLang&&a.selLang.apply(a,arguments)})},[w,C])])):Object(o["createCommentVNode"])("",!0)],64)}var x={name:"LangSwitcher",data:function(){return{langShow:!1,currentLangSrc:""}},methods:{selLang:function(e){this.langShow=!1,this.currentLangSrc=e.currentTarget.querySelector("img").src}}};c("07ae");x.render=B;var S=x,L={name:"UserAgreement",components:{LangSwitcher:S},data:function(){return{}}};c("f737");L.render=j;var P=L,M=c("168d"),D=c.n(M),T={class:"header"},q={class:"header__wrap"},I=Object(o["createTextVNode"])("Room Service"),$={class:"login"},A={class:"container"},R={class:"login__wrap"},U=Object(o["createVNode"])("div",{class:"login__header"},[Object(o["createVNode"])("img",{src:h.a,alt:"Логотип",class:"login__icon"}),Object(o["createVNode"])("h2",{class:"login__text"},[Object(o["createTextVNode"])("Пожалуйста, укажите "),Object(o["createVNode"])("br"),Object(o["createTextVNode"])("номер телефона и номер комнаты.")])],-1),F={key:0,class:"form-control form-control--checkbox"},G=Object(o["createTextVNode"])("Я согласен с "),E=Object(o["createTextVNode"])("пользовательским соглашением"),Q=Object(o["createVNode"])("footer",{class:"footer"},[Object(o["createVNode"])("div",{class:"container"},[Object(o["createVNode"])("div",{class:"footer__wrap"},[Object(o["createVNode"])("span",{class:"footer__text"},[Object(o["createTextVNode"])(" Если у вас есть вопрос другого "),Object(o["createVNode"])("br"),Object(o["createTextVNode"])("характера, просим "),Object(o["createVNode"])("a",{href:"#"},"связаться с поддержкой")]),Object(o["createVNode"])("img",{src:D.a,alt:""})])])],-1);function Z(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("router-link"),s=Object(o["resolveComponent"])("lang-switcher"),l=Object(o["resolveComponent"])("popup"),u=Object(o["resolveDirective"])("maska");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])("header",T,[Object(o["createVNode"])("div",q,[Object(o["createVNode"])(i,{to:"/",class:"header__logo"},{default:Object(o["withCtx"])((function(){return[I]})),_:1}),Object(o["createVNode"])(s)])]),Object(o["createVNode"])("div",$,[Object(o["createVNode"])("div",A,[Object(o["createVNode"])("div",R,[U,Object(o["createVNode"])("form",{class:"form",action:"#",onSubmit:t[5]||(t[5]=Object(o["withModifiers"])((function(){}),["prevent"]))},[Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",placeholder:"Номер телефона",onMaska:t[1]||(t[1]=function(e){return n.phone="7"+e.target.dataset.maskRawValue}),type:"text"},null,544),[[u,["+7 (###) ##-##-##","+7 (###) ###-##-##"]]]),Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",placeholder:"Код бронирования","onUpdate:modelValue":t[2]||(t[2]=function(e){return n.booking_id=e}),type:"text"},null,512),[[o["vModelText"],n.booking_id]]),Boolean(n.booking_id)||Boolean(n.phone)?(Object(o["openBlock"])(),Object(o["createBlock"])("label",F,[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=function(e){return n.checked=e})},null,512),[[o["vModelCheckbox"],n.checked]]),Object(o["createVNode"])("p",null,[G,Object(o["createVNode"])(i,{to:"user_agreement"},{default:Object(o["withCtx"])((function(){return[E]})),_:1})])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("button",{class:"btn ",disabled:!n.checked,onClick:t[4]||(t[4]=function(){return a.recaptcha&&a.recaptcha.apply(a,arguments)})},"войти",8,["disabled"])],32)])])]),Q,Object(o["createVNode"])(l,{show:n.popupShow,class:"sms",onClosePopup:a.closePopup,timer:""},null,8,["show","onClosePopup"])],64)}var z=c("1da1"),H=(c("96cf"),c("b0c0"),c("a4d3"),c("e01a"),c("1a2b")),J=c.n(H),X={key:0,class:"popup"},W={class:"popup__header"},K={key:0},Y={key:1,class:"popup__img",src:J.a,alt:""},ee=Object(o["createVNode"])("path",{d:"M8.70697 7.6265L13.9414 2.39186C14.0854 2.24777 14.1648 2.05552 14.165 1.85053C14.165 1.64542 14.0856 1.45295 13.9414 1.30908L13.4827 0.850498C13.3385 0.706059 13.1462 0.626953 12.941 0.626953C12.7361 0.626953 12.5439 0.706059 12.3997 0.850498L7.16527 6.08479L1.93063 0.850498C1.78665 0.706059 1.59429 0.626953 1.38919 0.626953C1.18431 0.626953 0.99195 0.706059 0.847966 0.850498L0.389039 1.30908C0.0903724 1.60775 0.0903724 2.09354 0.389039 2.39186L5.62356 7.6265L0.389039 12.8609C0.244942 13.0052 0.165608 13.1975 0.165608 13.4025C0.165608 13.6075 0.244942 13.7997 0.389039 13.9439L0.847852 14.4025C0.991836 14.5468 1.18431 14.626 1.38907 14.626C1.59418 14.626 1.78654 14.5468 1.93052 14.4025L7.16515 9.16809L12.3996 14.4025C12.5438 14.5468 12.736 14.626 12.9409 14.626H12.9411C13.1461 14.626 13.3384 14.5468 13.4826 14.4025L13.9413 13.9439C14.0853 13.7998 14.1647 13.6075 14.1647 13.4025C14.1647 13.1975 14.0853 13.0052 13.9413 12.861L8.70697 7.6265Z",fill:"#454545"},null,-1),te={key:0,class:"popup__content"},ce=Object(o["createVNode"])("p",{class:"popup__text"},"Мы отправили СМС с кодом подтверждения на Ваш номер телефона.",-1),oe=Object(o["createVNode"])("p",{class:"popup__text"},"Пожалуйста ввердите данный код ниже.",-1),re=Object(o["createVNode"])("input",{type:"text",class:"form-control"},null,-1),ne={class:"popup__time"},ae=Object(o["createTextVNode"])("Код действителен: "),ie=Object(o["createVNode"])("button",{class:"btn"},"Подтвердить",-1),se={key:1,class:"popup__content--meal"},le={class:"card__info--meal"},ue={class:"row"},de={class:"card__title"},pe={class:"card__price"},be={key:0,class:"card__desc"},me={class:"row"},je={key:0,class:"card__compound"},Oe=Object(o["createTextVNode"])("Состав: "),he=Object(o["createVNode"])("br",null,null,-1),fe={key:1,class:"card__weight"},ve={key:0,class:"ingredient"},ge={class:"ingredient__title"},ye={class:"form-box"},ke={class:"form-control form-control--radio form-control--left"},Ve=Object(o["createVNode"])("h2",{class:"ingredient__title"},"Особые пожелания",-1),Ne={class:"form-box"},_e={class:"ingredient__box"},we={class:"add-cart-box"},Ce={class:"btn-box btn-box--popup"},Be={class:"meal-count"};function xe(e,t,c,r,n,a){var i,s=Object(o["resolveComponent"])("router-link");return c.show?(Object(o["openBlock"])(),Object(o["createBlock"])("div",X,[Object(o["createVNode"])("div",{class:["popup__wrap",c.meal?"popup__wrap--meal":""]},[Object(o["createVNode"])("div",W,[c.meal?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("p",K,"Подтверждение СМС")),c.meal?(Object(o["openBlock"])(),Object(o["createBlock"])("img",Y)):Object(o["createCommentVNode"])("",!0),(Object(o["openBlock"])(),Object(o["createBlock"])("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:["popup__close",c.meal?"popup__close--meal":""],onClick:t[1]||(t[1]=function(){return a.closePopup&&a.closePopup.apply(a,arguments)})},[ee],2))]),c.meal?(Object(o["openBlock"])(),Object(o["createBlock"])("div",se,[Object(o["createVNode"])("div",le,[Object(o["createVNode"])("div",ue,[Object(o["createVNode"])("h2",de,Object(o["toDisplayString"])(c.meal.name),1),Object(o["createVNode"])("p",pe,Object(o["toDisplayString"])((null===(i=c.meal)||void 0===i?void 0:i.priceProm)||c.meal.price)+" ₽",1)]),c.meal.description?(Object(o["openBlock"])(),Object(o["createBlock"])("span",be,Object(o["toDisplayString"])(c.meal.description),1)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",me,[c.meal.compound?(Object(o["openBlock"])(),Object(o["createBlock"])("p",je,[Oe,he,Object(o["createTextVNode"])(Object(o["toDisplayString"])(c.meal.compound),1)])):Object(o["createCommentVNode"])("",!0),c.meal.weight?(Object(o["openBlock"])(),Object(o["createBlock"])("span",fe,Object(o["toDisplayString"])(c.meal.weight)+"г.",1)):Object(o["createCommentVNode"])("",!0)])]),this.currentScheme?(Object(o["openBlock"])(),Object(o["createBlock"])("div",ve,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(a.currentGroups,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:e.id},[e.single?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:0,class:e.require?"ingredient__main":"ingredient__special"},[Object(o["createVNode"])("h2",ge,Object(o["toDisplayString"])(e.name),1),Object(o["createVNode"])("div",ye,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.ingredients,(function(t){return Object(o["openBlock"])(),Object(o["createBlock"])("label",ke,[Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(a.currentIngredient(t).name),1),Object(o["createVNode"])("span",null,"+ "+Object(o["toDisplayString"])(a.currentIngredient(t).price)+" ₽",1),Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio","onUpdate:modelValue":function(t){return e.model=t},value:t},null,8,["onUpdate:modelValue","value"]),[[o["vModelRadio"],e.model]])])})),256))])],2)):Object(o["createCommentVNode"])("",!0),e.multiply?(Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:1,class:e.require?"ingredient__main":"ingredient__special"},[Ve,Object(o["createVNode"])("div",Ne,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.ingredients,(function(t,c){return Object(o["openBlock"])(),Object(o["createBlock"])("label",{class:"form-control form-control--checkbox form-control--popup",key:c},[Object(o["withDirectives"])(Object(o["createVNode"])("input",{type:"checkbox","onUpdate:modelValue":function(t){return e.model[c]=t}},null,8,["onUpdate:modelValue"]),[[o["vModelCheckbox"],e.model[c]]]),Object(o["createVNode"])("div",_e,[Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(a.currentIngredient(t).name),1),Object(o["createVNode"])("span",null,"+ "+Object(o["toDisplayString"])(a.currentIngredient(t).price)+" ₽",1)])])})),128))])],2)):Object(o["createCommentVNode"])("",!0)])})),128))])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",we,[Object(o["createVNode"])("div",Ce,[Object(o["createVNode"])("button",{onClick:t[2]||(t[2]=function(e){return a.updateCart("substract")}),class:"btn btn--card"},"-"),Object(o["createVNode"])("span",Be,Object(o["toDisplayString"])(n.mealCount)+" шт.",1),Object(o["createVNode"])("button",{onClick:t[3]||(t[3]=function(e){return a.updateCart("add")}),class:"btn btn--card"},"+")]),Object(o["createVNode"])("button",{onClick:t[4]||(t[4]=function(){return a.submitCart&&a.submitCart.apply(a,arguments)}),class:"btn"},"добавить в корзину")]),Object(o["createVNode"])("button",{class:"btn btn--white popup__close-btn",onClick:t[5]||(t[5]=function(){return a.closePopup&&a.closePopup.apply(a,arguments)})},"закрыть")])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",te,[ce,oe,re,Object(o["createVNode"])("span",ne,[ae,Object(o["createVNode"])("strong",null,"00:"+Object(o["toDisplayString"])(n.time),1)]),Object(o["createVNode"])(s,{to:"menu"},{default:Object(o["withCtx"])((function(){return[ie]})),_:1})]))],2)])):Object(o["createCommentVNode"])("",!0)}var Se=c("53ca"),Le=c("b85c"),Pe=(c("7db0"),c("4de4"),c("159b"),c("caad"),c("2532"),{name:"Popup",inject:{store:"$store"},data:function(){return{mealCount:0,time:59,timeInterval:null,snack:0,configPopUp:{single:!1,multiply:!1},ingredients:[]}},props:{show:{require:!0,type:Boolean},meal:{default:!1},timer:{type:Boolean,default:!1}},computed:{allIngredients:function(){return this.store.state.mealsModule.meals.ingredients},currentScheme:function(){var e=this;return this.store.state.mealsModule.meals.ingredientsSchemes.find((function(t){return t.id==e.meal.schemeId}))},currentGroups:function(){var e,t=this,c=[];return null===(e=this.store.state.mealsModule.meals.ingredientsGroups)||void 0===e||e.filter((function(e){var o;null===(o=t.currentScheme)||void 0===o||o.ingredientsGroups.forEach((function(t){t.id==e.id&&(1==t.maxCount?(e.single=!0,e.model=""):(e.multiply=!0,e.model=Array(e.ingredients.length)),1==t.minCount?e.require=!0:e.require=!1,c.push(e))}))})),c}},methods:{closePopup:function(){this.$emit("closePopup",!1)},updateCart:function(e){var t=event.currentTarget;t.classList.add("active"),setTimeout((function(e){t.classList.remove("active")}),200),"substract"==e?(this.mealCount--,this.mealCount<=0&&(this.mealCount=0)):this.mealCount++},submitCart:function(e){var t=this,c=this.currentGroups.filter((function(e){return e.require}));if(c.every((function(e){return Boolean(e.model)})))if(0==this.mealCount){var o=document.querySelector(".add-cart-box");o.classList.add("alert"),setTimeout((function(){return o.classList.remove("alert")}),2500),this.snack=2}else this.$emit("closePopup",!1),this.meal.quantity=0,this.meal.quantity+=this.mealCount,this.meal.ingredients=[],this.currentGroups.forEach((function(e){"string"==typeof e.model?t.meal.ingredients.push({item:e.model,quantity:1}):"object"==Object(Se["a"])(e.model)&&e.model.forEach((function(c,o){c&&t.meal.ingredients.push({item:e.ingredients[o],quantity:1})}))})),this.snack=1,this.store.commit("addCart",[this.meal,this.mealCount]);else{var r,n=document.querySelectorAll(".ingredient__main"),a=Object(Le["a"])(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;i.classList.add("alert")}}catch(s){a.e(s)}finally{a.f()}setTimeout((function(){return n.forEach((function(e){return e.classList.remove("alert")}))}),2500),this.snack=0}this.$emit("showSnack",this.snack)},getIngredients:function(){var e=this;this.ingredients=[],this.currentGroups.forEach((function(t){e.allIngredients.filter((function(c){t.ingredients.includes(c.id)&&e.ingredients.push(c)}))}))},currentIngredient:function(e){return this.ingredients.find((function(t){return t.id==e}))}},watch:{show:function(){var e=this;this.timer&&(clearInterval(this.timeInterval),this.timeInterval=setInterval((function(){return e.time--}),1e3)),this.getIngredients(),this.show&&this.meal?document.body.style.overflow="hidden":document.body.style.overflow="auto"},time:function(){0==this.time&&this.show&&this.show&&clearInterval(this.timeInterval)}}});c("3d1f");Pe.render=xe;var Me=Pe,De={name:"Login",components:{Popup:Me,LangSwitcher:S},inject:{store:"$store"},created:function(){var e;this.hash=null===(e=this.$route.params)||void 0===e?void 0:e.hash,window.localStorage.removeItem("user")},data:function(){return{phone:"",booking_id:"",qr:"achhjsiGxIMWuXWj8Qpx4zXLKJAzT2EXlGbNfxMzu8clU4dDQ96OTwru3RjeRXEcQcNDYBRt",captcha_code:"",checked:!1,popupShow:!1,hash:""}},methods:{closePopup:function(e){this.popupShow=e},login:function(){var e=this,t={phone:this.phone,booking_id:this.booking_id,qr:this.qr,captcha_code:this.captcha_code};this.$load(Object(z["a"])(regeneratorRuntime.mark((function c(){return regeneratorRuntime.wrap((function(c){while(1)switch(c.prev=c.next){case 0:return c.next=2,e.$api.auth.signIn(t).then((function(t){e.$router.push("/menu"),e.popupShow=!0,e.store.commit("setUser",t.data),localStorage.setItem("user",JSON.stringify(t.data))})).catch((function(e){"403"==e.response.status?alert("Неправильный телефон или каптча"):"429"==e.response.status?alert("Подождите отправки данных"):"410"==e.response.status?alert("Смс устарел"):"425"==e.response.status?alert("Смс ещё не истёк"):"500"==e.response.status&&alert("Технические проблемы сервера")}));case 2:c.sent;case 3:case"end":return c.stop()}}),c)}))))},recaptcha:function(){var e=this;this.$recaptchaLoaded().then((function(){e.$recaptcha("login").then((function(t){e.captcha_code=t,e.login()}))}))}}};c("c0a6");De.render=Z;var Te=De,qe=Object(o["createVNode"])("path",{d:"M12 6.37061L10.3421 8L5.99701 3.39356L1.65785 8L-2.78468e-07 6.37061L5.17107 0.882085L5.99701 -2.62399e-07L6.82892 0.882085L12 6.37061Z",fill:"#ACACCA"},null,-1),Ie={key:0,class:"menu-type__list"},$e={class:"menu"},Ae={class:"container container--menu"},Re={class:"card-box"},Ue={class:"total-price"},Fe={class:"total-price__text"},Ge=Object(o["createTextVNode"])(),Ee=Object(o["createVNode"])("button",{class:"btn"},"перейти в корзину",-1);function Qe(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("v-header"),s=Object(o["resolveComponent"])("card"),l=Object(o["resolveComponent"])("router-link"),u=Object(o["resolveComponent"])("popup"),d=Object(o["resolveComponent"])("v-snack-bar");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("div",{class:"menu-type",onClick:t[1]||(t[1]=function(e){return n.typeShow?n.typeShow=!1:n.typeShow=!0})},[Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(n.typeText),1),(Object(o["openBlock"])(),Object(o["createBlock"])("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",class:n.typeShow?"":"caret-active"},[qe],2))]),n.typeShow?(Object(o["openBlock"])(),Object(o["createBlock"])("ul",Ie,[Object(o["createVNode"])("li",{onClick:t[2]||(t[2]=function(){return a.selType&&a.selType.apply(a,arguments)}),class:["menu-type__item","меню"==n.typeText.toLowerCase()?"menu-type__item--active":""]}," Меню ",2),Object(o["createVNode"])("li",{onClick:t[3]||(t[3]=function(){return a.selType&&a.selType.apply(a,arguments)}),class:["menu-type__item","акции"==n.typeText.toLowerCase()?"menu-type__item--active":""]}," акции ",2),Object(o["createVNode"])("li",{onClick:t[4]||(t[4]=function(){return a.selType&&a.selType.apply(a,arguments)}),class:["menu-type__item","комбо"==n.typeText.toLowerCase()?"menu-type__item--active":""]}," комбо ",2)])):Object(o["createCommentVNode"])("",!0)]})),_:1}),Object(o["createVNode"])("div",$e,[Object(o["createVNode"])("div",Ae,[Object(o["createVNode"])("ul",{onClick:t[6]||(t[6]=function(){return e.selMeals&&e.selMeals.apply(e,arguments)}),class:"swipe-menu__list"},[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(this.categories,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e.id,onClick:t[5]||(t[5]=function(){return a.changeCategory&&a.changeCategory.apply(a,arguments)}),class:"swipe-menu__item"},[Object(o["createVNode"])("a",{href:"#"+e.name},Object(o["toDisplayString"])(e.name),9,["href"])])})),128))]),"меню"==n.typeText.toLowerCase()?(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(this.categories,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{key:e.id,class:"menu__card"},[a.currentMeals(a.meals,e.id).length?(Object(o["openBlock"])(),Object(o["createBlock"])("h3",{key:0,class:"tag-title",id:e.name},Object(o["toDisplayString"])(e.name),9,["id"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",Re,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(a.currentMeals(a.meals,e.id),(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.id,meal:e,onOpenPopup:a.openPopup},null,8,["meal","onOpenPopup"])})),128))])])})),128)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",Ue,[Object(o["createVNode"])("div",Fe,[Object(o["createVNode"])("p",{onClick:t[7]||(t[7]=function(e){return n.snackbarShow=!n.snackbarShow})},"Общая стоимость:"),Ge,Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(a.totalyPrice)+" ₽",1)]),Object(o["createVNode"])(l,{to:"cart",class:"full-w"},{default:Object(o["withCtx"])((function(){return[Ee]})),_:1})])])]),Object(o["createVNode"])(u,{show:n.popupShow,meal:n.meal,onClosePopup:a.closePopup,onShowSnack:a.showSnack},null,8,["show","meal","onClosePopup","onShowSnack"]),Object(o["createVNode"])(d,{show:n.snackbarShow,config:n.snacks[n.snack]},null,8,["show","config"])],64)}c("07ac");var Ze=c("b2fb"),ze=c.n(Ze),He=c("abee"),Je=c.n(He),Xe=c("0043"),We=c.n(Xe),Ke=c("6019"),Ye=c.n(Ke),et=c("50f2"),tt=c.n(et),ct={key:0,class:"card__label card__label--vegan",style:{position:"absolute"}},ot=Object(o["createVNode"])("img",{src:ze.a,alt:""},null,-1),rt={key:1,class:"card__label card__label--hot",style:{position:"absolute"}},nt=Object(o["createVNode"])("img",{src:Je.a,alt:""},null,-1),at={key:2,class:"card__label card__label--prom",style:{position:"absolute"}},it=Object(o["createVNode"])("img",{src:We.a,alt:""},null,-1),st={key:3,class:"card__label card__label--diet",style:{position:"absolute"}},lt=Object(o["createVNode"])("img",{src:Ye.a,alt:""},null,-1),ut=Object(o["createVNode"])("img",{src:tt.a,alt:""},null,-1),dt={class:"card__text"},pt={class:"card__title"},bt={key:0,class:"card__weight"},mt={class:"card__action"},jt={key:0,class:"card__price"},Ot={key:1,class:"card-box--prom"},ht={class:"card__price card__price--prom"},ft={class:"card__price"},vt={class:"btn-box"},gt={key:2,class:"count-meal"};function yt(e,t,c,r,n,a){var i,s,l,u,d,p;return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:["card",c.meal.priceProm?"card--prom":""]},[Object(o["createVNode"])("div",{class:"card__info",onClick:t[1]||(t[1]=function(){return a.openPopup&&a.openPopup.apply(a,arguments)})},["vegan"==(null===(i=c.meal)||void 0===i?void 0:i.label)?(Object(o["openBlock"])(),Object(o["createBlock"])("div",ct,[ot])):Object(o["createCommentVNode"])("",!0),"hot"==(null===(s=c.meal)||void 0===s?void 0:s.label)?(Object(o["openBlock"])(),Object(o["createBlock"])("div",rt,[nt])):Object(o["createCommentVNode"])("",!0),"prom"==(null===(l=c.meal)||void 0===l?void 0:l.label)?(Object(o["openBlock"])(),Object(o["createBlock"])("div",at,[it])):Object(o["createCommentVNode"])("",!0),"diet"==(null===(u=c.meal)||void 0===u?void 0:u.label)?(Object(o["openBlock"])(),Object(o["createBlock"])("div",st,[lt])):Object(o["createCommentVNode"])("",!0),ut,Object(o["createVNode"])("div",dt,[Object(o["createVNode"])("h2",pt,Object(o["toDisplayString"])(c.meal.name),1),c.meal.weight?(Object(o["openBlock"])(),Object(o["createBlock"])("span",bt,Object(o["toDisplayString"])(c.meal.weight)+"г",1)):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])("div",mt,[c.meal.priceProm?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Ot,[Object(o["createVNode"])("p",ht,Object(o["toDisplayString"])(c.meal.priceProm)+" ₽",1),Object(o["createVNode"])("p",ft,Object(o["toDisplayString"])(c.meal.price)+" ₽",1)])):(Object(o["openBlock"])(),Object(o["createBlock"])("p",jt,Object(o["toDisplayString"])(c.meal.price)+" ₽",1)),Object(o["createVNode"])("div",vt,[Object(o["createVNode"])("button",{onClick:t[2]||(t[2]=function(e){return a.updateCart(c.meal,"substract")}),class:"btn btn--card"},"-"),Object(o["createVNode"])("button",{onClick:t[3]||(t[3]=function(e){return a.updateCart(c.meal,"add")}),class:"btn btn--card"},"+")]),null!==(d=a.mealInCart)&&void 0!==d&&d.quantity?(Object(o["openBlock"])(),Object(o["createBlock"])("span",gt,Object(o["toDisplayString"])(null===(p=a.mealInCart)||void 0===p?void 0:p.quantity)+" шт.",1)):Object(o["createCommentVNode"])("",!0)])],2)}c("c740"),c("a434");var kt={name:"Card",inject:{store:"$store"},data:function(){return{cartMeals:this.store.getters.getAllCart}},props:{meal:{type:Object}},computed:{mealInCart:function(){var e=this;return this.store.getters.getAllCart.find((function(t){return t.id==e.meal.id}))},ingredientsGroups:function(){var e,t=this;return null===(e=this.store.state.mealsModule.meals.ingredientsSchemes.find((function(e){return e.id==t.meal.schemeId})))||void 0===e?void 0:e.ingredientsGroups},required:function(){var e;return!(null===(e=this.ingredientsGroups)||void 0===e||!e.some((function(e){return 1==e.minCount})))}},methods:{openPopup:function(){this.$emit("openPopup",this.meal.id)},updateCart:function(e,t){var c=event.currentTarget;if(c.classList.add("active"),setTimeout((function(e){c.classList.remove("active")}),200),this.required)this.openPopup();else{var o=this.cartMeals.find((function(t){return t.id==e.id}));if(o)if("substract"==t){if(e.quantity>0&&e.quantity--,0==e.quantity){var r=this.cartMeals.findIndex((function(e){return 0==e.quantity}));this.cartMeals.splice(r,1)}this.store.commit("updateCart",[t,e.price])}else this.store.commit("updateCart",[t,e.price]),this.meal.quantity++;else"add"==t&&(this.store.commit("updateCart",[t,e.price]),e.quantity=this.meal.quantity=1,this.cartMeals.push(e));this.store.commit("setCart",this.cartMeals)}}}};c("201f");kt.render=yt;var Vt=kt,Nt={class:"snackbar__wrap"},_t={class:"snackbar__text"};function wt(e,t,c,r,n,a){return Object(o["openBlock"])(),Object(o["createBlock"])("div",{class:[c.show?"snackbar--show snackbar--".concat(c.config.modificator):"","snackbar "]},[Object(o["createVNode"])("div",Nt,[Object(o["createVNode"])("div",_t,Object(o["toDisplayString"])(c.config.text),1)])],2)}var Ct={name:"VSnackBar",props:{show:{require:!0,type:Boolean},config:{require:!0,type:Object}}};c("3e62");Ct.render=wt;var Bt=Ct,xt=c("43dd"),St=c.n(xt),Lt=c("daca"),Pt=c.n(Lt),Mt={class:"header"},Dt={class:"header__wrap"},Tt=Object(o["createVNode"])("svg",{width:"14",height:"22",viewBox:"0 0 14 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createVNode"])("path",{d:"M11.1486 0L14 3.0394L5.93872 11.0055L14 18.9606L11.1486 22L1.54365 12.5197L0 11.0055L1.54365 9.48032L11.1486 0Z",fill:"#2B2C7E"})],-1),qt={key:0,class:"menu-type"},It={class:"btn-box"},$t=Object(o["createVNode"])("button",{class:"btn btn--white btn--square"},[Object(o["createVNode"])("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[Object(o["createVNode"])("path",{d:"M17.2151 13.9203C16.0097 12.8869 14.7865 12.261 13.5959 13.2928L12.885 13.9164C12.3649 14.3691 11.3978 16.4842 7.65875 12.1728C3.92046 7.86675 6.14506 7.19631 6.66598 6.74752L7.38077 6.12312C8.5651 5.08896 8.11815 3.78709 7.26398 2.44698L6.74851 1.63526C5.89044 0.298264 4.95606 -0.579797 3.76863 0.452802L3.12702 1.01476C2.60221 1.39799 1.13524 2.64366 0.779399 5.01013C0.351142 7.84958 1.7021 11.1011 4.79722 14.6688C7.88845 18.238 10.9151 20.0308 13.782 19.9996C16.1647 19.9738 17.6036 18.6923 18.0537 18.2263L18.6976 17.6636C19.882 16.6317 19.1461 15.5812 17.94 14.5455L17.2151 13.9203Z",fill:"#2B2C7E"})])],-1),At={class:"btn btn--white btn--square"},Rt={key:0,src:St.a,alt:""},Ut={key:1},Ft={class:"cart-header__count"},Gt=Object(o["createVNode"])("img",{src:Pt.a,alt:""},null,-1);function Et(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])("header",Mt,[Object(o["createVNode"])("div",Dt,[Object(o["createVNode"])("button",{onClick:t[1]||(t[1]=function(t){return e.$router.go(-1)}),class:"btn btn--white btn--square back-btn"},[Tt]),Object(o["renderSlot"])(e.$slots,"default"),c.title?(Object(o["openBlock"])(),Object(o["createBlock"])("div",qt,[Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(c.title),1)])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",It,[$t,Object(o["createVNode"])("button",At,[Object(o["createVNode"])(i,{class:"cart-header",to:"cart"},{default:Object(o["withCtx"])((function(){return[c.order?(Object(o["openBlock"])(),Object(o["createBlock"])("img",Rt)):(Object(o["openBlock"])(),Object(o["createBlock"])("div",Ut,[Object(o["createVNode"])("span",Ft,Object(o["toDisplayString"])(a.store.getters.getCartQuantity),1),Gt]))]})),_:1})])])])])}var Qt={name:"VHeader",inject:{store:"$store"},props:{title:String,order:Boolean}};Qt.render=Et;var Zt=Qt,zt={name:"Menu",components:{Popup:Me,Card:Vt,VHeader:Zt,VSnackBar:Bt},inject:{store:"$store"},created:function(){this.store.dispatch("fetchMeals")},data:function(){return{typeShow:!1,typeText:"Меню",popupShow:!1,snackbarShow:!1,snack:0,snacks:[{text:"Выберите основную опцию",modificator:"alert"},{text:"Добавлено в корзину!",modificator:""},{text:"Выберите количество",modificator:"alert"}],meal:{}}},computed:{totalyPrice:function(){return this.store.getters.getCartPrice},meals:function(){return this.store.state.mealsModule.meals.products},categories:function(){return Object.values(this.store.state.mealsModule.meals)[0]}},methods:{showSnack:function(e){var t=this;this.snack=e,this.snackbarShow=!0,setTimeout((function(){return t.snackbarShow=!1}),2e3)},changeCategory:function(e){var t,c=document.querySelectorAll(".swipe-menu__item"),o=Object(Le["a"])(c);try{for(o.s();!(t=o.n()).done;){var r=t.value;r.classList.remove("swipe-menu__item--active")}}catch(n){o.e(n)}finally{o.f()}e.currentTarget.classList.add("swipe-menu__item--active")},currentMeals:function(e,t){return e.filter((function(e){return e.categoryId==t}))},openPopup:function(e){this.meal=this.meals.find((function(t){return t.id==e})),this.popupShow=!0},closePopup:function(e){this.popupShow=e},selType:function(e){var t,c=e.currentTarget,o=Object(Le["a"])(document.querySelectorAll(".menu-type__items"));try{for(o.s();!(t=o.n()).done;){var r=t.value;r.classList.remove("menu-type__item--active")}}catch(n){o.e(n)}finally{o.f()}this.typeText=c.innerText,c.classList.add("menu-type__item--active"),this.typeShow=!1}}};c("1b7f");zt.render=Qe;var Ht=zt,Jt={class:"cart"},Xt={class:"container"},Wt={class:"card-box"},Kt=Object(o["createVNode"])("h3",{class:"tag-title"},"ваш комментарий",-1),Yt={class:"textarea-box"},ec=Object(o["createVNode"])("h3",{class:"tag-title",id:"payMethod"},"варианты оплаты",-1),tc={class:"form-box"},cc={class:"form-control form-control--radio"},oc=Object(o["createVNode"])("p",null,"Закрыть на номер",-1),rc={class:"form-control form-control--radio"},nc=Object(o["createVNode"])("p",null,"Наличными ",-1),ac={class:"form-control form-control--radio"},ic=Object(o["createVNode"])("p",null,"Картой при получении",-1),sc={class:"form-control form-control--radio"},lc=Object(o["createVNode"])("p",null,"Онлайн-оплата картой",-1),uc=Object(o["createVNode"])("h3",{class:"tag-title",id:"typeDelivery"},"тип доставки",-1),dc={class:"form-box"},pc={class:"form-control form-control--radio"},bc=Object(o["createVNode"])("p",null,"Принести в номер",-1),mc={class:"form-control form-control--radio"},jc=Object(o["createVNode"])("p",null,"Забрать в ресторане",-1),Oc={class:"total-price"},hc={class:"total-price__text"},fc=Object(o["createVNode"])("p",null,"Общая стоимость:",-1),vc=Object(o["createTextVNode"])();function gc(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("v-header"),s=Object(o["resolveComponent"])("card"),l=Object(o["resolveComponent"])("popup"),u=Object(o["resolveComponent"])("v-snack-bar");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,{title:"корзина"}),Object(o["createVNode"])("div",Jt,[Object(o["createVNode"])("div",Xt,[Object(o["createVNode"])("div",Wt,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(n.meals,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(s,{key:e.id,meal:e,onOpenPopup:a.openPopup},null,8,["meal","onOpenPopup"])})),128))]),Kt,Object(o["createVNode"])("div",Yt,[Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return n.customerComment=e}),name:"comment",class:"form-control form-control--area",placeholder:"Если у вас есть дополнительные пожелания, пожалуйста, дайте нам знать"},null,512),[[o["vModelText"],n.customerComment]])]),ec,Object(o["createVNode"])("div",tc,[Object(o["createVNode"])("label",cc,[oc,Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio",name:"pay","onUpdate:modelValue":t[2]||(t[2]=function(e){return n.payMethod=e}),value:1},null,512),[[o["vModelRadio"],n.payMethod]])]),Object(o["createVNode"])("label",rc,[nc,Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio",name:"pay","onUpdate:modelValue":t[3]||(t[3]=function(e){return n.payMethod=e}),value:2},null,512),[[o["vModelRadio"],n.payMethod]])]),Object(o["createVNode"])("label",ac,[ic,Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio",name:"pay","onUpdate:modelValue":t[4]||(t[4]=function(e){return n.payMethod=e}),value:3},null,512),[[o["vModelRadio"],n.payMethod]])]),Object(o["createVNode"])("label",sc,[lc,Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio",name:"pay","onUpdate:modelValue":t[5]||(t[5]=function(e){return n.payMethod=e}),value:4},null,512),[[o["vModelRadio"],n.payMethod]])])]),uc,Object(o["createVNode"])("div",dc,[Object(o["createVNode"])("label",pc,[bc,Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio","onUpdate:modelValue":t[6]||(t[6]=function(e){return n.typeDelivery=e}),value:"room",name:"delivery"},null,512),[[o["vModelRadio"],n.typeDelivery]])]),Object(o["createVNode"])("label",mc,[jc,Object(o["withDirectives"])(Object(o["createVNode"])("input",{class:"form-control",type:"radio","onUpdate:modelValue":t[7]||(t[7]=function(e){return n.typeDelivery=e}),value:"restauran",name:"delivery"},null,512),[[o["vModelRadio"],n.typeDelivery]])])]),Object(o["createVNode"])("div",Oc,[Object(o["createVNode"])("div",hc,[fc,vc,Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(a.totalyPrice)+" ₽",1)]),Object(o["createVNode"])("button",{onClick:t[8]||(t[8]=function(){return a.order&&a.order.apply(a,arguments)}),class:"btn"},"Заказать")])])]),Object(o["createVNode"])(l,{show:n.popupShow,meal:n.meal,onClosePopup:a.closePopup,onShowSnack:a.showSnack},null,8,["show","meal","onClosePopup","onShowSnack"]),Object(o["createVNode"])(u,{show:n.snackbarShow,config:n.snacks[n.snack]},null,8,["show","config"])],64)}c("d81d"),c("d3b7"),c("25f0");var yc=c("bc3a"),kc=c.n(yc),Vc={name:"Cart",components:{Popup:Me,Card:Vt,VHeader:Zt,VSnackBar:Bt},inject:{store:"$store"},created:function(){this.meals=this.store.getters.getAllCart},data:function(){return{popupShow:!1,cartCount:0,customerComment:"",payMethod:"",typeDelivery:"",meal:{},meals:[],snackbarShow:!1,snack:0,snacks:[{text:"Выберите основную опцию",modificator:"alert"},{text:"Добавлено в корзину!",modificator:""},{text:"Выберите количество",modificator:"alert"}]}},computed:{totalyPrice:function(){return this.store.getters.getCartPrice}},methods:{openPopup:function(e){this.meal=this.meals.find((function(t){return t.id==e})),this.popupShow=!0},closePopup:function(e){this.popupShow=e},showSnack:function(e){var t=this;this.snack=e,this.snackbarShow=!0,setTimeout((function(){return t.snackbarShow=!1}),2e3)},order:function(){var e,t=this,c={items:[],customer_comment:this.customerComment},o=Object(Le["a"])(this.meals);try{for(o.s();!(e=o.n()).done;){var r=e.value;c.items.push({item:r.id.toString(),quantity:r.quantity})}}catch(s){o.e(s)}finally{o.f()}var n=document.querySelector("#typeDelivery"),a=n.offsetTop,i=n.offsetWidth;if(this.typeDelivery&&this.payMethod){if(this.totalyPrice<=0)return void alert("Вы не выбрали товар!");this.$load(Object(z["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.order.order(c).then((function(e){t.status=e.status,t.$router.push({name:"order",query:{status:e.status,orderId:e.data.id,paymentId:t.payMethod}})})).catch((function(e){var t;if("409"==(null===(t=e.response)||void 0===t?void 0:t.status)){var c=e.response.data.items;alert(1==c.length?"Товары ".concat(c.map((function(e){return e.item}))," уже недоступны"):"Товар ".concat(c[0].item," уже недоступен"))}}));case 2:case"end":return e.stop()}}),e)}))))}else window.scrollTo({top:a,left:i,behavior:"smooth"})}}};c("8292");Vc.render=gc;var Nc=Vc,_c=c("fecb"),wc=c.n(_c),Cc=c("6083"),Bc=c.n(Cc),xc={class:"order"},Sc={class:"container"},Lc={key:0},Pc=Object(o["createVNode"])("img",{class:"order-status__icon",src:wc.a,alt:""},null,-1),Mc=Object(o["createVNode"])("h2",{class:"order-status__text"},"Спасибо за ваш заказ, менеджер скоро свяжется с Вами!",-1),Dc={key:1},Tc=Object(o["createVNode"])("img",{class:"order-status__icon",src:Bc.a,alt:""},null,-1),qc=Object(o["createVNode"])("h2",{class:"order-status__text"},"Оплата не прошла",-1),Ic={key:2,class:"btn btn--grey"},$c={key:0,class:"order__receipt"},Ac={class:"order__price"},Rc=Object(o["createVNode"])("span",null,"Сумма к оплате:",-1),Uc=Object(o["createTextVNode"])(),Fc={class:"order__pay"},Gc=Object(o["createVNode"])("span",null,"Оплачен",-1),Ec=Object(o["createTextVNode"])(),Qc={key:0,class:"order__list-box"},Zc=Object(o["createVNode"])("span",null,"Состав заказа",-1),zc={class:"order__list"},Hc=Object(o["createVNode"])("button",{class:"btn btn--grey"},"скачать квитанцию",-1),Jc=Object(o["createVNode"])("button",{class:"btn footer-btn"},"вернуться на главную",-1);function Xc(e,t,c,r,n,a){var i=Object(o["resolveComponent"])("v-header"),s=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(i,{title:"статус заказа",order:""}),Object(o["createVNode"])("div",xc,[Object(o["createVNode"])("div",Sc,[Object(o["createVNode"])("div",{class:["order-status",n.success?"":"order-status--non"]},[n.success?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Lc,[Pc,Mc])):(Object(o["openBlock"])(),Object(o["createBlock"])("div",Dc,[Tc,qc])),n.success?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])("button",Ic,"попробовать еще раз"))],2),n.success?(Object(o["openBlock"])(),Object(o["createBlock"])("div",$c,[Object(o["createVNode"])("div",Ac,[Rc,Uc,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(a.totalyPrice)+" ₽",1)]),Object(o["createVNode"])("div",Fc,[Gc,Ec,Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(n.payed),1)]),this.meals.length?(Object(o["openBlock"])(),Object(o["createBlock"])("div",Qc,[Zc,Object(o["createVNode"])("ul",zc,[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(this.meals,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])("li",{key:e.id,class:"order__item"},[Object(o["createVNode"])("p",null,Object(o["toDisplayString"])(e.name),1),Object(o["createVNode"])("span",null,Object(o["toDisplayString"])(e.quantity)+" шт.",1)])})),128))])])):Object(o["createCommentVNode"])("",!0),Hc])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(s,{to:"/"},{default:Object(o["withCtx"])((function(){return[Jc]})),_:1})],64)}c("c1f9"),c("ddb0"),c("3ca3"),c("2b3d");var Wc={name:"Order",components:{VHeader:Zt},inject:{store:"$store"},created:function(){var e=this;this.meals=this.store.getters.getAllCart;var t=Object.fromEntries(new URL(window.location).searchParams.entries());this.success="200"==(null===t||void 0===t?void 0:t.status),this.orderId=null===t||void 0===t?void 0:t.orderId,this.paymentId=null===t||void 0===t?void 0:t.paymentId,this.$load(Object(z["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$api.pay.pay(e.orderId,e.paymentId).then((function(e){console.log(e.data)})).catch((function(e){console.log("err: ",e)}));case 2:case"end":return t.stop()}}),t)}))))},computed:{totalyPrice:function(){return this.store.getters.getCartPrice}},data:function(){return{success:!1,payed:"Нет",meals:[]}}};c("d38d");Wc.render=Xc;var Kc=Wc,Yc=[{path:"/",name:"login",component:Te},{path:"/user_agreement",name:"user_agreement",component:P},{path:"/menu",name:"menu",component:Ht},{path:"/cart",name:"cart",component:Nc},{path:"/order",name:"order",component:Kc,query:Object(i["a"])({orderId:"false"},"orderId","false")},{path:"/qr/:hash",name:"other",redirect:{name:"login"}}],eo=Object(s["a"])({history:Object(s["b"])("/room_service/"),routes:Yc}),to=eo,co=c("5502"),oo=c("3835"),ro={state:{cart:[],cartQuantity:0,cartPrice:0},mutations:{setCart:function(e,t){e.cart=t},updateCart:function(e,t){var c=Object(oo["a"])(t,2),o=c[0],r=c[1];"add"==o?(e.cartQuantity++,e.cartPrice+=parseInt(r)):(e.cartQuantity--,e.cartPrice-=r)},addCart:function(e,t){var c=Object(oo["a"])(t,2),o=c[0],r=c[1];-1==e.cart.indexOf(o)&&(e.cart.push(o),e.cartPrice+=parseInt(o.price)),e.cartQuantity+=r}},getters:{getAllCart:function(e){return e.cart},getCartQuantity:function(e){return e.cartQuantity},getCartPrice:function(e){return e.cartPrice}},actions:{}},no={state:{meals:[]},mutations:{setMeals:function(e,t){e.meals=t}},getters:{getAllMeals:function(e){return e.meals}},actions:{fetchMeals:function(e){kc.a.get("https://menu-cdn.grayhoax.ru/htl_vip_01-menu-latest.json").then((function(t){console.log(t.data.menu),e.commit("setMeals",t.data.menu)})).catch((function(e){return console.log(e)}))}}},ao={state:{user:[]},mutations:{setUser:function(e,t){e.user=t}},getters:{getUser:function(e){return e.user}},actions:{}},io=new co["a"].Store({modules:{cartModule:ro,mealsModule:no,userModule:ao}}),so=c("760d"),lo=kc.a.create({baseURL:"https://api.grayhoax.ru/",withCredentilds:!0,headers:{accept:"application/json"}}),uo=lo,po=(c("4fad"),function(e){return{signIn:function(t){for(var c=new URLSearchParams,o=0,r=Object.entries(t);o<r.length;o++){var n=Object(oo["a"])(r[o],2),a=n[0],i=n[1];c.append(a,i)}return e.post("login",c)},userInfo:function(){return e.get("user/info")},logOut:function(){return e.get("session/logout")}}}),bo=function(e){return{orderInfo:function(t){return e.get("order/".concat(t))},order:function(t){var c,o="Bearer "+(null===(c=JSON.parse(window.localStorage.getItem("user")))||void 0===c?void 0:c.session_key);return e.put("order/",t,{headers:{authorization:o}})}}},mo=(c("99af"),function(e){return{pay:function(t,c){var o,r="Bearer "+(null===(o=JSON.parse(window.localStorage.getItem("user")))||void 0===o?void 0:o.session_key);return e.get("pay/".concat(t,"/").concat(c),{headers:{authorization:r}})}}}),jo={auth:po(uo),order:bo(uo),pay:mo(uo)},Oo={install:function(e){e.config.globalProperties.$api=jo}},ho={install:function(e){e.config.globalProperties.$load=function(){var e=Object(z["a"])(regeneratorRuntime.mark((function e(t,c){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),c?c(e.t0):console.dir(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,c){return e.apply(this,arguments)}}()}},fo=c("795b");Object(o["createApp"])(a).use(to).use(Oo).use(ho).use(fo["a"]).provide("$store",io).use(so["VueReCaptcha"],{siteKey:"6LdqfuwbAAAAAAzD-9PoVZ5UsHTfNvdfywCqQALC"}).mount("#app")},"58a1":function(e,t,c){},"5b1c":function(e,t,c){e.exports=c.p+"img/logo.6c7420db.svg"},"5c5d":function(e,t,c){},6019:function(e,t,c){e.exports=c.p+"img/diet.e428dd93.svg"},6083:function(e,t,c){e.exports=c.p+"img/non-ok.3bbdbf2d.svg"},8292:function(e,t,c){"use strict";c("84e5")},"84e5":function(e,t,c){},"932f":function(e,t,c){},a6e2:function(e,t,c){},abee:function(e,t,c){e.exports=c.p+"img/hot.4b277ae2.svg"},b2fb:function(e,t,c){e.exports=c.p+"img/vegan.615f84c5.svg"},c0a6:function(e,t,c){"use strict";c("5c5d")},c26e:function(e,t,c){e.exports=c.p+"img/flag.6195dc1a.svg"},d38d:function(e,t,c){"use strict";c("33bf")},daca:function(e,t,c){e.exports=c.p+"img/cart.0075ab53.svg"},e9d3:function(e,t,c){},f199:function(e,t,c){},f737:function(e,t,c){"use strict";c("58a1")},fecb:function(e,t,c){e.exports=c.p+"img/ok.619960ed.svg"}});
//# sourceMappingURL=app.9219cf49.js.map